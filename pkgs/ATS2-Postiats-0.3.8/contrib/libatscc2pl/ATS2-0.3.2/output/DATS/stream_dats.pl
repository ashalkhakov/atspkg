######
##
## The Perl code is generated by atscc2pl
## The starting compilation time is: 2017-10-23: 14h:29m
##
######
sub
_ats2plpre_stream_patsfun_6__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_6($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_16__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_16($cenv->[1], $cenv->[2], $arg0); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_22__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_22($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_24__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_24($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_26__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_26($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_28__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_28($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_30__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_30($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_32__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_32($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_35__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_35($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_38__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_38($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_41__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_41($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_45__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0) = @_; return _ats2plpre_stream_patsfun_45($cenv->[1], $arg0); }, $env0];
}

sub
_ats2plpre_stream_patsfun_48__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_48($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_51__closurerize($$$$)
{
  my($env0, $env1, $env2, $env3) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_51($cenv->[1], $cenv->[2], $cenv->[3], $cenv->[4]); }, $env0, $env1, $env2, $env3];
}

sub
_ats2plpre_stream_patsfun_52__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_52($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_55__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_55($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_57__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_57($cenv->[1]); }, $env0];
}

sub
_ats2plpre_stream_patsfun_59__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_59($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_64__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0, $arg1) = @_; return _ats2plpre_stream_patsfun_64($cenv->[1], $arg0, $arg1); }, $env0];
}

sub
_ats2plpre_stream_patsfun_66__closurerize($)
{
  my($env0) = @_;
  return [sub{ my($cenv, $arg0, $arg1) = @_; return _ats2plpre_stream_patsfun_66($cenv->[1], $arg0, $arg1); }, $env0];
}

sub
_ats2plpre_stream_patsfun_69__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_69($cenv->[1], $cenv->[2]); }, $env0, $env1];
}

sub
_ats2plpre_stream_patsfun_71__closurerize($$)
{
  my($env0, $env1) = @_;
  return [sub{ my($cenv) = @_; return _ats2plpre_stream_patsfun_71($cenv->[1], $cenv->[2]); }, $env0, $env1];
}


sub
ats2plpre_stream_make_list($)
{
##
  my($arg0) = @_;
##
  my $tmpret7;
##
  __patsflab_stream_make_list:
  $tmpret7 = ATSPMVlazyval(_ats2plpre_stream_patsfun_6__closurerize($arg0));
  return $tmpret7;
} #end-of-function


sub
_ats2plpre_stream_patsfun_6($)
{
##
  my($env0) = @_;
##
  my $tmpret8;
  my $tmp9;
  my $tmp10;
  my $tmp11;
##
  __patsflab__ats2plpre_stream_patsfun_6:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab0:
    if(ATSCKptriscons($env0)) { goto __atstmplab3; }
    __atstmplab1:
    $tmpret8 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab2:
    __atstmplab3:
    $tmp9 = $env0->[0];
    $tmp10 = $env0->[1];
    $tmp11 = ats2plpre_stream_make_list($tmp10);
    $tmpret8 = [$tmp9, $tmp11];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret8;
} #end-of-function


sub
ats2plpre_stream_make_list0($)
{
##
  my($arg0) = @_;
##
  my $tmpret12;
##
  __patsflab_stream_make_list0:
  $tmpret12 = ats2plpre_stream_make_list($arg0);
  return $tmpret12;
} #end-of-function


sub
ats2plpre_stream_nth_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret13;
##
  __patsflab_stream_nth_opt:
  $tmpret13 = _ats2plpre_stream_loop_9($arg0, $arg1);
  return $tmpret13;
} #end-of-function


sub
_ats2plpre_stream_loop_9($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret14;
  my $tmp15;
  my $tmp16;
  my $tmp17;
  my $tmp18;
  my $tmp19;
##
  __patsflab__ats2plpre_stream_loop_9:
  $tmp15 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab4:
    if(ATSCKptriscons($tmp15)) { goto __atstmplab7; }
    __atstmplab5:
    $tmpret14 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab6:
    __atstmplab7:
    $tmp16 = $tmp15->[0];
    $tmp17 = $tmp15->[1];
    $tmp18 = ats2plpre_gt_int1_int1($arg1, 0);
    if($tmp18) {
      $tmp19 = ats2plpre_pred_int1($arg1);
      #ATStailcalseq_beg
      $apy0 = $tmp17;
      $apy1 = $tmp19;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab__ats2plpre_stream_loop_9;
      #ATStailcalseq_end
    } else {
      $tmpret14 = [$tmp16];
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret14;
} #end-of-function


sub
ats2plpre_stream_length($)
{
##
  my($arg0) = @_;
##
  my $tmpret20;
##
  __patsflab_stream_length:
  $tmpret20 = _ats2plpre_stream_loop_11($arg0, 0);
  return $tmpret20;
} #end-of-function


sub
_ats2plpre_stream_loop_11($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret21;
  my $tmp22;
  my $tmp24;
  my $tmp25;
##
  __patsflab__ats2plpre_stream_loop_11:
  $tmp22 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab8:
    if(ATSCKptriscons($tmp22)) { goto __atstmplab11; }
    __atstmplab9:
    $tmpret21 = $arg1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab10:
    __atstmplab11:
    $tmp24 = $tmp22->[1];
    $tmp25 = ats2plpre_add_int1_int1($arg1, 1);
    #ATStailcalseq_beg
    $apy0 = $tmp24;
    $apy1 = $tmp25;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_11;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret21;
} #end-of-function


sub
ats2plpre_stream2list($)
{
##
  my($arg0) = @_;
##
  my $tmpret26;
  my $tmp27;
##
  __patsflab_stream2list:
  $tmp27 = ats2plpre_stream2list_rev($arg0);
  $tmpret26 = ats2plpre_list_reverse($tmp27);
  return $tmpret26;
} #end-of-function


sub
ats2plpre_stream2list_rev($)
{
##
  my($arg0) = @_;
##
  my $tmpret28;
  my $tmp34;
##
  __patsflab_stream2list_rev:
  $tmp34 = 0;
  $tmpret28 = _ats2plpre_stream_loop_14($arg0, $tmp34);
  return $tmpret28;
} #end-of-function


sub
_ats2plpre_stream_loop_14($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret29;
  my $tmp30;
  my $tmp31;
  my $tmp32;
  my $tmp33;
##
  __patsflab__ats2plpre_stream_loop_14:
  $tmp30 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab12:
    if(ATSCKptriscons($tmp30)) { goto __atstmplab15; }
    __atstmplab13:
    $tmpret29 = $arg1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab14:
    __atstmplab15:
    $tmp31 = $tmp30->[0];
    $tmp32 = $tmp30->[1];
    $tmp33 = [$tmp31, $arg1];
    #ATStailcalseq_beg
    $apy0 = $tmp32;
    $apy1 = $tmp33;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_14;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret29;
} #end-of-function


sub
ats2plpre_stream_takeLte($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret35;
##
  __patsflab_stream_takeLte:
  $tmpret35 = ATSPMVllazyval(_ats2plpre_stream_patsfun_16__closurerize($arg0, $arg1));
  return $tmpret35;
} #end-of-function


sub
_ats2plpre_stream_patsfun_16($$$)
{
##
  my($env0, $env1, $arg0) = @_;
##
  my $tmpret36;
  my $tmp37;
  my $tmp38;
  my $tmp39;
  my $tmp40;
  my $tmp41;
  my $tmp42;
##
  __patsflab__ats2plpre_stream_patsfun_16:
  if($arg0) {
    $tmp37 = ats2plpre_gt_int1_int1($env1, 0);
    if($tmp37) {
      $tmp38 = ATSPMVlazyval_eval($env0); 
      #ATScaseofseq_beg
      while(1)
      {
        #ATSbranchseq_beg
        __atstmplab16:
        if(ATSCKptriscons($tmp38)) { goto __atstmplab19; }
        __atstmplab17:
        $tmpret36 = 0;
        last;
        #ATSbranchseq_end
        #ATSbranchseq_beg
        __atstmplab18:
        __atstmplab19:
        $tmp39 = $tmp38->[0];
        $tmp40 = $tmp38->[1];
        $tmp42 = ats2plpre_sub_int1_int1($env1, 1);
        $tmp41 = ats2plpre_stream_takeLte($tmp40, $tmp42);
        $tmpret36 = [$tmp39, $tmp41];
        last;
        #ATSbranchseq_end
      } #end-of-while-loop;
      #ATScaseofseq_end
    } else {
      $tmpret36 = 0;
    } #endif
  } else {
  } #endif
  return $tmpret36;
} #end-of-function


sub
ats2plpre_stream_take_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret43;
  my $tmp52;
##
  __patsflab_stream_take_opt:
  $tmp52 = 0;
  $tmpret43 = _ats2plpre_stream_auxmain_18($arg1, $arg0, 0, $tmp52);
  return $tmpret43;
} #end-of-function


sub
_ats2plpre_stream_auxmain_18($$$$)
{
##
  my($env0, $arg0, $arg1, $arg2) = @_;
##
  my $apy0;
  my $apy1;
  my $apy2;
  my $tmpret44;
  my $tmp45;
  my $tmp46;
  my $tmp47;
  my $tmp48;
  my $tmp49;
  my $tmp50;
  my $tmp51;
##
  __patsflab__ats2plpre_stream_auxmain_18:
  $tmp45 = ats2plpre_lt_int1_int1($arg1, $env0);
  if($tmp45) {
    $tmp46 = ATSPMVlazyval_eval($arg0); 
    #ATScaseofseq_beg
    while(1)
    {
      #ATSbranchseq_beg
      __atstmplab20:
      if(ATSCKptriscons($tmp46)) { goto __atstmplab23; }
      __atstmplab21:
      $tmpret44 = 0;
      last;
      #ATSbranchseq_end
      #ATSbranchseq_beg
      __atstmplab22:
      __atstmplab23:
      $tmp47 = $tmp46->[0];
      $tmp48 = $tmp46->[1];
      $tmp49 = ats2plpre_add_int1_int1($arg1, 1);
      $tmp50 = [$tmp47, $arg2];
      #ATStailcalseq_beg
      $apy0 = $tmp48;
      $apy1 = $tmp49;
      $apy2 = $tmp50;
      $arg0 = $apy0;
      $arg1 = $apy1;
      $arg2 = $apy2;
      goto __patsflab__ats2plpre_stream_auxmain_18;
      #ATStailcalseq_end
      last;
      #ATSbranchseq_end
    } #end-of-while-loop;
    #ATScaseofseq_end
  } else {
    $tmp51 = ats2plpre_list_reverse($arg2);
    $tmpret44 = [$tmp51];
  } #endif
  return $tmpret44;
} #end-of-function


sub
ats2plpre_stream_drop_opt($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret53;
##
  __patsflab_stream_drop_opt:
  $tmpret53 = _ats2plpre_stream_auxmain_20($arg1, $arg0, 0);
  return $tmpret53;
} #end-of-function


sub
_ats2plpre_stream_auxmain_20($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret54;
  my $tmp55;
  my $tmp56;
  my $tmp58;
  my $tmp59;
##
  __patsflab__ats2plpre_stream_auxmain_20:
  $tmp55 = ats2plpre_lt_int1_int1($arg1, $env0);
  if($tmp55) {
    $tmp56 = ATSPMVlazyval_eval($arg0); 
    #ATScaseofseq_beg
    while(1)
    {
      #ATSbranchseq_beg
      __atstmplab24:
      if(ATSCKptriscons($tmp56)) { goto __atstmplab27; }
      __atstmplab25:
      $tmpret54 = 0;
      last;
      #ATSbranchseq_end
      #ATSbranchseq_beg
      __atstmplab26:
      __atstmplab27:
      $tmp58 = $tmp56->[1];
      $tmp59 = ats2plpre_add_int1_int1($arg1, 1);
      #ATStailcalseq_beg
      $apy0 = $tmp58;
      $apy1 = $tmp59;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab__ats2plpre_stream_auxmain_20;
      #ATStailcalseq_end
      last;
      #ATSbranchseq_end
    } #end-of-while-loop;
    #ATScaseofseq_end
  } else {
    $tmpret54 = [$arg0];
  } #endif
  return $tmpret54;
} #end-of-function


sub
ats2plpre_stream_append($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret60;
##
  __patsflab_stream_append:
  $tmpret60 = ATSPMVlazyval(_ats2plpre_stream_patsfun_22__closurerize($arg0, $arg1));
  return $tmpret60;
} #end-of-function


sub
_ats2plpre_stream_patsfun_22($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret61;
  my $tmp62;
  my $tmp63;
  my $tmp64;
  my $tmp65;
##
  __patsflab__ats2plpre_stream_patsfun_22:
  $tmp62 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab28:
    if(ATSCKptriscons($tmp62)) { goto __atstmplab31; }
    __atstmplab29:
    $tmpret61 = ATSPMVlazyval_eval($env1); 
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab30:
    __atstmplab31:
    $tmp63 = $tmp62->[0];
    $tmp64 = $tmp62->[1];
    $tmp65 = ats2plpre_stream_append($tmp64, $env1);
    $tmpret61 = [$tmp63, $tmp65];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret61;
} #end-of-function


sub
ats2plpre_stream_concat($)
{
##
  my($arg0) = @_;
##
  my $tmpret66;
##
  __patsflab_stream_concat:
  $tmpret66 = ATSPMVlazyval(_ats2plpre_stream_patsfun_24__closurerize($arg0));
  return $tmpret66;
} #end-of-function


sub
_ats2plpre_stream_patsfun_24($)
{
##
  my($env0) = @_;
##
  my $tmpret67;
  my $tmp68;
  my $tmp69;
  my $tmp70;
  my $tmp71;
  my $tmp72;
##
  __patsflab__ats2plpre_stream_patsfun_24:
  $tmp68 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab32:
    if(ATSCKptriscons($tmp68)) { goto __atstmplab35; }
    __atstmplab33:
    $tmpret67 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab34:
    __atstmplab35:
    $tmp69 = $tmp68->[0];
    $tmp70 = $tmp68->[1];
    $tmp72 = ats2plpre_stream_concat($tmp70);
    $tmp71 = ats2plpre_stream_append($tmp69, $tmp72);
    $tmpret67 = ATSPMVlazyval_eval($tmp71); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret67;
} #end-of-function


sub
ats2plpre_stream_map_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret73;
##
  __patsflab_stream_map_cloref:
  $tmpret73 = ATSPMVlazyval(_ats2plpre_stream_patsfun_26__closurerize($arg0, $arg1));
  return $tmpret73;
} #end-of-function


sub
_ats2plpre_stream_patsfun_26($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret74;
  my $tmp75;
  my $tmp76;
  my $tmp77;
  my $tmp78;
  my $tmp79;
##
  __patsflab__ats2plpre_stream_patsfun_26:
  $tmp75 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab36:
    if(ATSCKptriscons($tmp75)) { goto __atstmplab39; }
    __atstmplab37:
    $tmpret74 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab38:
    __atstmplab39:
    $tmp76 = $tmp75->[0];
    $tmp77 = $tmp75->[1];
    $tmp78 = &{$env1->[0]}($env1, $tmp76);
    $tmp79 = ats2plpre_stream_map_cloref($tmp77, $env1);
    $tmpret74 = [$tmp78, $tmp79];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret74;
} #end-of-function


sub
ats2plpre_stream_map_method($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret80;
##
  __patsflab_stream_map_method:
  $tmpret80 = _ats2plpre_stream_patsfun_28__closurerize($arg0);
  return $tmpret80;
} #end-of-function


sub
_ats2plpre_stream_patsfun_28($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret81;
##
  __patsflab__ats2plpre_stream_patsfun_28:
  $tmpret81 = ats2plpre_stream_map_cloref($env0, $arg0);
  return $tmpret81;
} #end-of-function


sub
ats2plpre_stream_filter_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret82;
##
  __patsflab_stream_filter_cloref:
  $tmpret82 = ATSPMVlazyval(_ats2plpre_stream_patsfun_30__closurerize($arg0, $arg1));
  return $tmpret82;
} #end-of-function


sub
_ats2plpre_stream_patsfun_30($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret83;
  my $tmp84;
  my $tmp85;
  my $tmp86;
  my $tmp87;
  my $tmp88;
  my $tmp89;
##
  __patsflab__ats2plpre_stream_patsfun_30:
  $tmp84 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab40:
    if(ATSCKptriscons($tmp84)) { goto __atstmplab43; }
    __atstmplab41:
    $tmpret83 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab42:
    __atstmplab43:
    $tmp85 = $tmp84->[0];
    $tmp86 = $tmp84->[1];
    $tmp87 = &{$env1->[0]}($env1, $tmp85);
    if($tmp87) {
      $tmp88 = ats2plpre_stream_filter_cloref($tmp86, $env1);
      $tmpret83 = [$tmp85, $tmp88];
    } else {
      $tmp89 = ats2plpre_stream_filter_cloref($tmp86, $env1);
      $tmpret83 = ATSPMVlazyval_eval($tmp89); 
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret83;
} #end-of-function


sub
ats2plpre_stream_filter_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret90;
##
  __patsflab_stream_filter_method:
  $tmpret90 = _ats2plpre_stream_patsfun_32__closurerize($arg0);
  return $tmpret90;
} #end-of-function


sub
_ats2plpre_stream_patsfun_32($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret91;
##
  __patsflab__ats2plpre_stream_patsfun_32:
  $tmpret91 = ats2plpre_stream_filter_cloref($env0, $arg0);
  return $tmpret91;
} #end-of-function


sub
ats2plpre_stream_forall_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret92;
  my $tmp93;
  my $tmp94;
  my $tmp95;
  my $tmp96;
##
  __patsflab_stream_forall_cloref:
  $tmp93 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab44:
    if(ATSCKptriscons($tmp93)) { goto __atstmplab47; }
    __atstmplab45:
    $tmpret92 = 1;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab46:
    __atstmplab47:
    $tmp94 = $tmp93->[0];
    $tmp95 = $tmp93->[1];
    $tmp96 = &{$arg1->[0]}($arg1, $tmp94);
    if($tmp96) {
      #ATStailcalseq_beg
      $apy0 = $tmp95;
      $apy1 = $arg1;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab_stream_forall_cloref;
      #ATStailcalseq_end
    } else {
      $tmpret92 = 0;
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret92;
} #end-of-function


sub
ats2plpre_stream_forall_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret97;
##
  __patsflab_stream_forall_method:
  $tmpret97 = _ats2plpre_stream_patsfun_35__closurerize($arg0);
  return $tmpret97;
} #end-of-function


sub
_ats2plpre_stream_patsfun_35($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret98;
##
  __patsflab__ats2plpre_stream_patsfun_35:
  $tmpret98 = ats2plpre_stream_forall_cloref($env0, $arg0);
  return $tmpret98;
} #end-of-function


sub
ats2plpre_stream_exists_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmpret99;
  my $tmp100;
  my $tmp101;
  my $tmp102;
  my $tmp103;
##
  __patsflab_stream_exists_cloref:
  $tmp100 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab48:
    if(ATSCKptriscons($tmp100)) { goto __atstmplab51; }
    __atstmplab49:
    $tmpret99 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab50:
    __atstmplab51:
    $tmp101 = $tmp100->[0];
    $tmp102 = $tmp100->[1];
    $tmp103 = &{$arg1->[0]}($arg1, $tmp101);
    if($tmp103) {
      $tmpret99 = 1;
    } else {
      #ATStailcalseq_beg
      $apy0 = $tmp102;
      $apy1 = $arg1;
      $arg0 = $apy0;
      $arg1 = $apy1;
      goto __patsflab_stream_exists_cloref;
      #ATStailcalseq_end
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret99;
} #end-of-function


sub
ats2plpre_stream_exists_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret104;
##
  __patsflab_stream_exists_method:
  $tmpret104 = _ats2plpre_stream_patsfun_38__closurerize($arg0);
  return $tmpret104;
} #end-of-function


sub
_ats2plpre_stream_patsfun_38($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret105;
##
  __patsflab__ats2plpre_stream_patsfun_38:
  $tmpret105 = ats2plpre_stream_exists_cloref($env0, $arg0);
  return $tmpret105;
} #end-of-function


sub
ats2plpre_stream_foreach_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmp107;
  my $tmp108;
  my $tmp109;
##
  __patsflab_stream_foreach_cloref:
  $tmp107 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab52:
    if(ATSCKptriscons($tmp107)) { goto __atstmplab55; }
    __atstmplab53:
    #ATSINSmove_void;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab54:
    __atstmplab55:
    $tmp108 = $tmp107->[0];
    $tmp109 = $tmp107->[1];
    &{$arg1->[0]}($arg1, $tmp108);
    #ATStailcalseq_beg
    $apy0 = $tmp109;
    $apy1 = $arg1;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab_stream_foreach_cloref;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return;#_void
} #end-of-function


sub
ats2plpre_stream_foreach_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret111;
##
  __patsflab_stream_foreach_method:
  $tmpret111 = _ats2plpre_stream_patsfun_41__closurerize($arg0);
  return $tmpret111;
} #end-of-function


sub
_ats2plpre_stream_patsfun_41($$)
{
##
  my($env0, $arg0) = @_;
##
##
  __patsflab__ats2plpre_stream_patsfun_41:
  ats2plpre_stream_foreach_cloref($env0, $arg0);
  return;#_void
} #end-of-function


sub
ats2plpre_stream_iforeach_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
##
  __patsflab_stream_iforeach_cloref:
  _ats2plpre_stream_loop_43($arg1, 0, $arg0);
  return;#_void
} #end-of-function


sub
_ats2plpre_stream_loop_43($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $apy0;
  my $apy1;
  my $tmp115;
  my $tmp116;
  my $tmp117;
  my $tmp119;
##
  __patsflab__ats2plpre_stream_loop_43:
  $tmp115 = ATSPMVlazyval_eval($arg1); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab56:
    if(ATSCKptriscons($tmp115)) { goto __atstmplab59; }
    __atstmplab57:
    #ATSINSmove_void;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab58:
    __atstmplab59:
    $tmp116 = $tmp115->[0];
    $tmp117 = $tmp115->[1];
    &{$env0->[0]}($env0, $arg0, $tmp116);
    $tmp119 = ats2plpre_add_int1_int1($arg0, 1);
    #ATStailcalseq_beg
    $apy0 = $tmp119;
    $apy1 = $tmp117;
    $arg0 = $apy0;
    $arg1 = $apy1;
    goto __patsflab__ats2plpre_stream_loop_43;
    #ATStailcalseq_end
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return;#_void
} #end-of-function


sub
ats2plpre_stream_iforeach_method($)
{
##
  my($arg0) = @_;
##
  my $tmpret120;
##
  __patsflab_stream_iforeach_method:
  $tmpret120 = _ats2plpre_stream_patsfun_45__closurerize($arg0);
  return $tmpret120;
} #end-of-function


sub
_ats2plpre_stream_patsfun_45($$)
{
##
  my($env0, $arg0) = @_;
##
##
  __patsflab__ats2plpre_stream_patsfun_45:
  ats2plpre_stream_iforeach_cloref($env0, $arg0);
  return;#_void
} #end-of-function


sub
ats2plpre_stream_tabulate_cloref($)
{
##
  my($arg0) = @_;
##
  my $tmpret122;
##
  __patsflab_stream_tabulate_cloref:
  $tmpret122 = _ats2plpre_stream_auxmain_47($arg0, 0);
  return $tmpret122;
} #end-of-function


sub
_ats2plpre_stream_auxmain_47($$)
{
##
  my($env0, $arg0) = @_;
##
  my $tmpret123;
##
  __patsflab__ats2plpre_stream_auxmain_47:
  $tmpret123 = ATSPMVlazyval(_ats2plpre_stream_patsfun_48__closurerize($env0, $arg0));
  return $tmpret123;
} #end-of-function


sub
_ats2plpre_stream_patsfun_48($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret124;
  my $tmp125;
  my $tmp126;
  my $tmp127;
##
  __patsflab__ats2plpre_stream_patsfun_48:
  $tmp125 = &{$env0->[0]}($env0, $env1);
  $tmp127 = ats2plpre_add_int1_int1($env1, 1);
  $tmp126 = _ats2plpre_stream_auxmain_47($env0, $tmp127);
  $tmpret124 = [$tmp125, $tmp126];
  return $tmpret124;
} #end-of-function


sub
ats2plpre_cross_stream_list($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret128;
##
  __patsflab_cross_stream_list:
  $tmpret128 = ATSPMVlazyval(_ats2plpre_stream_patsfun_52__closurerize($arg0, $arg1));
  return $tmpret128;
} #end-of-function


sub
_ats2plpre_stream_auxmain_50($$$$)
{
##
  my($arg0, $arg1, $arg2, $arg3) = @_;
##
  my $tmpret129;
##
  __patsflab__ats2plpre_stream_auxmain_50:
  $tmpret129 = ATSPMVlazyval(_ats2plpre_stream_patsfun_51__closurerize($arg0, $arg1, $arg2, $arg3));
  return $tmpret129;
} #end-of-function


sub
_ats2plpre_stream_patsfun_51($$$$)
{
##
  my($env0, $env1, $env2, $env3) = @_;
##
  my $tmpret130;
  my $tmp131;
  my $tmp132;
  my $tmp133;
  my $tmp134;
  my $tmp135;
##
  __patsflab__ats2plpre_stream_patsfun_51:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab60:
    if(ATSCKptriscons($env3)) { goto __atstmplab63; }
    __atstmplab61:
    $tmp133 = ats2plpre_cross_stream_list($env1, $env2);
    $tmpret130 = ATSPMVlazyval_eval($tmp133); 
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab62:
    __atstmplab63:
    $tmp131 = $env3->[0];
    $tmp132 = $env3->[1];
    $tmp134 = [$env0, $tmp131];
    $tmp135 = _ats2plpre_stream_auxmain_50($env0, $env1, $env2, $tmp132);
    $tmpret130 = [$tmp134, $tmp135];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret130;
} #end-of-function


sub
_ats2plpre_stream_patsfun_52($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret136;
  my $tmp137;
  my $tmp138;
  my $tmp139;
  my $tmp140;
##
  __patsflab__ats2plpre_stream_patsfun_52:
  $tmp137 = ATSPMVlazyval_eval($env0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab64:
    if(ATSCKptriscons($tmp137)) { goto __atstmplab67; }
    __atstmplab65:
    $tmpret136 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab66:
    if(ATSCKptrisnull($tmp137)) { ATSINScaseof_fail("/home/hwxi/Research/ATS-Postiats/contrib/libatscc/ATS2-0.3.2/DATS/stream.dats: 7014(line=463, offs=1) -- 7106(line=465, offs=50)"); }
    __atstmplab67:
    $tmp138 = $tmp137->[0];
    $tmp139 = $tmp137->[1];
    $tmp140 = _ats2plpre_stream_auxmain_50($tmp138, $tmp139, $env1, $env1);
    $tmpret136 = ATSPMVlazyval_eval($tmp140); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret136;
} #end-of-function


sub
ats2plpre_cross_stream_list0($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret141;
##
  __patsflab_cross_stream_list0:
  $tmpret141 = ats2plpre_cross_stream_list($arg0, $arg1);
  return $tmpret141;
} #end-of-function


sub
ats2plpre_stream2cloref_exn($)
{
##
  my($arg0) = @_;
##
  my $tmpret142;
  my $tmp143;
##
  __patsflab_stream2cloref_exn:
  $tmp143 = ats2plpre_ref($arg0);
  $tmpret142 = _ats2plpre_stream_patsfun_55__closurerize($tmp143);
  return $tmpret142;
} #end-of-function


sub
_ats2plpre_stream_patsfun_55($)
{
##
  my($env0) = @_;
##
  my $tmpret144;
  my $tmp145;
  my $tmp146;
  my $tmp147;
  my $tmp148;
##
  __patsflab__ats2plpre_stream_patsfun_55:
  $tmp145 = ats2plpre_ref_get_elt($env0);
  $tmp146 = ATSPMVlazyval_eval($tmp145); 
  if(ATSCKptrisnull($tmp146)) { ATSINScaseof_fail("/home/hwxi/Research/ATS-Postiats/contrib/libatscc/ATS2-0.3.2/DATS/stream.dats: 7407(line=491, offs=5) -- 7431(line=491, offs=29)"); }
  $tmp147 = $tmp146->[0];
  $tmp148 = $tmp146->[1];
  ats2plpre_ref_set_elt($env0, $tmp148);
  $tmpret144 = $tmp147;
  return $tmpret144;
} #end-of-function


sub
ats2plpre_stream2cloref_opt($)
{
##
  my($arg0) = @_;
##
  my $tmpret150;
  my $tmp151;
##
  __patsflab_stream2cloref_opt:
  $tmp151 = ats2plpre_ref($arg0);
  $tmpret150 = _ats2plpre_stream_patsfun_57__closurerize($tmp151);
  return $tmpret150;
} #end-of-function


sub
_ats2plpre_stream_patsfun_57($)
{
##
  my($env0) = @_;
##
  my $tmpret152;
  my $tmp153;
  my $tmp154;
  my $tmp155;
  my $tmp156;
##
  __patsflab__ats2plpre_stream_patsfun_57:
  $tmp153 = ats2plpre_ref_get_elt($env0);
  $tmp154 = ATSPMVlazyval_eval($tmp153); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab68:
    if(ATSCKptriscons($tmp154)) { goto __atstmplab71; }
    __atstmplab69:
    $tmpret152 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab70:
    __atstmplab71:
    $tmp155 = $tmp154->[0];
    $tmp156 = $tmp154->[1];
    ats2plpre_ref_set_elt($env0, $tmp156);
    $tmpret152 = [$tmp155];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret152;
} #end-of-function


sub
ats2plpre_stream2cloref_last($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret158;
  my $tmp159;
  my $tmp160;
##
  __patsflab_stream2cloref_last:
  $tmp159 = ats2plpre_ref($arg0);
  $tmp160 = ats2plpre_ref($arg1);
  $tmpret158 = _ats2plpre_stream_patsfun_59__closurerize($tmp159, $tmp160);
  return $tmpret158;
} #end-of-function


sub
_ats2plpre_stream_patsfun_59($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret161;
  my $tmp162;
  my $tmp163;
  my $tmp164;
  my $tmp165;
##
  __patsflab__ats2plpre_stream_patsfun_59:
  $tmp162 = ats2plpre_ref_get_elt($env0);
  $tmp163 = ATSPMVlazyval_eval($tmp162); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab72:
    if(ATSCKptriscons($tmp163)) { goto __atstmplab75; }
    __atstmplab73:
    $tmpret161 = ats2plpre_ref_get_elt($env1);
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab74:
    __atstmplab75:
    $tmp164 = $tmp163->[0];
    $tmp165 = $tmp163->[1];
    ats2plpre_ref_set_elt($env0, $tmp165);
    ats2plpre_ref_set_elt($env1, $tmp164);
    $tmpret161 = $tmp164;
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret161;
} #end-of-function


sub
ats2plpre_stream_take_while_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret168;
  my $tmp169;
  my $tmp170;
  my $tmp171;
  my $tmp172;
##
  __patsflab_stream_take_while_cloref:
  $tmp169 = ats2plpre_stream_rtake_while_cloref($arg0, $arg1);
  $tmp170 = $tmp169->[0];
  $tmp171 = $tmp169->[1];
  $tmp172 = ats2plpre_list_reverse($tmp171);
  $tmpret168 = [$tmp170, $tmp172];
  return $tmpret168;
} #end-of-function


sub
ats2plpre_stream_rtake_while_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret173;
  my $tmp181;
##
  __patsflab_stream_rtake_while_cloref:
  $tmp181 = 0;
  $tmpret173 = _ats2plpre_stream_loop_62($arg1, $arg0, 0, $tmp181);
  return $tmpret173;
} #end-of-function


sub
_ats2plpre_stream_loop_62($$$$)
{
##
  my($env0, $arg0, $arg1, $arg2) = @_;
##
  my $apy0;
  my $apy1;
  my $apy2;
  my $tmpret174;
  my $tmp175;
  my $tmp176;
  my $tmp177;
  my $tmp178;
  my $tmp179;
  my $tmp180;
##
  __patsflab__ats2plpre_stream_loop_62:
  $tmp175 = ATSPMVlazyval_eval($arg0); 
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab76:
    if(ATSCKptriscons($tmp175)) { goto __atstmplab79; }
    __atstmplab77:
    $tmpret174 = [$arg0, $arg2];
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab78:
    __atstmplab79:
    $tmp176 = $tmp175->[0];
    $tmp177 = $tmp175->[1];
    $tmp178 = &{$env0->[0]}($env0, $arg1, $tmp176);
    if($tmp178) {
      $tmp179 = ats2plpre_add_int1_int1($arg1, 1);
      $tmp180 = [$tmp176, $arg2];
      #ATStailcalseq_beg
      $apy0 = $tmp177;
      $apy1 = $tmp179;
      $apy2 = $tmp180;
      $arg0 = $apy0;
      $arg1 = $apy1;
      $arg2 = $apy2;
      goto __patsflab__ats2plpre_stream_loop_62;
      #ATStailcalseq_end
    } else {
      $tmpret174 = [$arg0, $arg2];
    } #endif
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret174;
} #end-of-function


sub
ats2plpre_stream_take_until_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret182;
##
  __patsflab_stream_take_until_cloref:
  $tmpret182 = ats2plpre_stream_take_while_cloref($arg0, _ats2plpre_stream_patsfun_64__closurerize($arg1));
  return $tmpret182;
} #end-of-function


sub
_ats2plpre_stream_patsfun_64($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $tmpret183;
  my $tmp184;
##
  __patsflab__ats2plpre_stream_patsfun_64:
  $tmp184 = &{$env0->[0]}($env0, $arg0, $arg1);
  $tmpret183 = atspre_neg_bool0($tmp184);
  return $tmpret183;
} #end-of-function


sub
ats2plpre_stream_rtake_until_cloref($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret185;
##
  __patsflab_stream_rtake_until_cloref:
  $tmpret185 = ats2plpre_stream_rtake_while_cloref($arg0, _ats2plpre_stream_patsfun_66__closurerize($arg1));
  return $tmpret185;
} #end-of-function


sub
_ats2plpre_stream_patsfun_66($$$)
{
##
  my($env0, $arg0, $arg1) = @_;
##
  my $tmpret186;
  my $tmp187;
##
  __patsflab__ats2plpre_stream_patsfun_66:
  $tmp187 = &{$env0->[0]}($env0, $arg0, $arg1);
  $tmpret186 = atspre_neg_bool0($tmp187);
  return $tmpret186;
} #end-of-function


sub
ats2plpre_stream_list_xprod2($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret188;
##
  __patsflab_stream_list_xprod2:
  $tmpret188 = _ats2plpre_stream_auxlst_70($arg0, $arg1);
  return $tmpret188;
} #end-of-function


sub
_ats2plpre_stream_aux_68($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret189;
##
  __patsflab__ats2plpre_stream_aux_68:
  $tmpret189 = ATSPMVlazyval(_ats2plpre_stream_patsfun_69__closurerize($arg0, $arg1));
  return $tmpret189;
} #end-of-function


sub
_ats2plpre_stream_patsfun_69($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret190;
  my $tmp191;
  my $tmp192;
  my $tmp193;
  my $tmp194;
##
  __patsflab__ats2plpre_stream_patsfun_69:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab80:
    if(ATSCKptriscons($env1)) { goto __atstmplab83; }
    __atstmplab81:
    $tmpret190 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab82:
    __atstmplab83:
    $tmp191 = $env1->[0];
    $tmp192 = $env1->[1];
    $tmp193 = [$env0, $tmp191];
    $tmp194 = _ats2plpre_stream_aux_68($env0, $tmp192);
    $tmpret190 = [$tmp193, $tmp194];
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret190;
} #end-of-function


sub
_ats2plpre_stream_auxlst_70($$)
{
##
  my($arg0, $arg1) = @_;
##
  my $tmpret195;
##
  __patsflab__ats2plpre_stream_auxlst_70:
  $tmpret195 = ATSPMVlazyval(_ats2plpre_stream_patsfun_71__closurerize($arg0, $arg1));
  return $tmpret195;
} #end-of-function


sub
_ats2plpre_stream_patsfun_71($$)
{
##
  my($env0, $env1) = @_;
##
  my $tmpret196;
  my $tmp197;
  my $tmp198;
  my $tmp199;
  my $tmp200;
  my $tmp201;
##
  __patsflab__ats2plpre_stream_patsfun_71:
  #ATScaseofseq_beg
  while(1)
  {
    #ATSbranchseq_beg
    __atstmplab84:
    if(ATSCKptriscons($env0)) { goto __atstmplab87; }
    __atstmplab85:
    $tmpret196 = 0;
    last;
    #ATSbranchseq_end
    #ATSbranchseq_beg
    __atstmplab86:
    __atstmplab87:
    $tmp197 = $env0->[0];
    $tmp198 = $env0->[1];
    $tmp200 = _ats2plpre_stream_aux_68($tmp197, $env1);
    $tmp201 = _ats2plpre_stream_auxlst_70($tmp198, $env1);
    $tmp199 = ats2plpre_stream_append($tmp200, $tmp201);
    $tmpret196 = ATSPMVlazyval_eval($tmp199); 
    last;
    #ATSbranchseq_end
  } #end-of-while-loop;
  #ATScaseofseq_end
  return $tmpret196;
} #end-of-function


######
#ATSextcode_beg()
######
######
1; ##note that it is needed by 'use' or 'require'
######
######
#ATSextcode_end()
######
######
##
## end-of-compilation-unit
##
######
